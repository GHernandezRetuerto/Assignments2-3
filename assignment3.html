<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 3</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1></h1>
    <br/>
    <div id="Part1">
        <!--Render a <table> by selecting the data from the files data1.csv and data2.csv according to the content of a <select> tag by responding an onchange event. -->
        <label for="selector">Choose a Dataset</label>
        <select id="selector" onchange="selectTable()">
            <option value="data1">Data 1</option>
            <option value="data2">Data 2</option>
        </select>

        <br/>

        <script>
            // Selection and generation of the table
            selectTable = function(){
                if (document.getElementById("selector").value == "data1"){
                    url = false ? "data1.csv": "https://raw.githubusercontent.com/GHernandezRetuerto/Assignments2-3/master/data1.csv"
                    console.log("data1 selected")
                    d3.select("dataTable").text("") // This clears the previous table
                    d3.csv(url,
                    (d,i,c) => {
                        d3.select("dataTable")
                        .append("tr")
                        .selectAll("td")
                        .data(c).join("td").text(e => d[e])
                    })
                    console.log("Table created with data 1")
                }
                else if (document.getElementById("selector").value == "data2"){
                    url = false ? "data2.csv": "https://raw.githubusercontent.com/GHernandezRetuerto/Assignments2-3/master/data2.csv"
                    console.log("data2 selected")
                    d3.select("dataTable").text("") // This clears the previous table
                    d3.csv(url,
                    (d,i,c) => {
                        d3.select("dataTable")
                        .append("tr")
                        .selectAll("td")
                        .data(c).join("td").text(e => d[e])
                    })
                    console.log("Table created with data 2")
                }
                else {console.log("error: no data selected") }
            }
        </script>

         <table id="dataTable"></table>

    </div>

    <div id="Part2">
        <!-- If a numeric column is selected, print in a <p> tag the mean of the column -->

    </div>

            
</body>
</html>